# Cleverence MCP-RAG Server

MCP-RAG —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Cleverence Mobile Smarts. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π MCP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ HTTP API.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –≥–ª–∞–≤–∞–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- üìñ **–ü–æ–ª—É—á–µ–Ω–∏–µ –≥–ª–∞–≤** - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –≥–ª–∞–≤–∞–º –ø–æ ID
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–Ω–∞—Å—ã—â–µ–Ω–∏—è –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- üåê **HTTP API** - REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- üíæ **JSON –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–∞—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd MCP-RAGcleverence
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON —Ñ–∞–π–ª–æ–≤:
```bash
npm run import
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### MCP –°–µ—Ä–≤–µ—Ä

–ó–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞:
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- `search_documentation` - –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `get_chapter` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ø–æ ID
- `get_statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `add_documentation` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≥–ª–∞–≤—ã
- `get_document_info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–µ

### HTTP API

–ó–∞–ø—É—Å–∫ HTTP API —Å–µ—Ä–≤–µ—Ä–∞:
```bash
npm run api
```

API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3001`

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

- `GET /` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API
- `GET /api/statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `GET /api/search?query=...` - –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `GET /api/chapter/:id` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ø–æ ID
- `POST /api/chapter` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≥–ª–∞–≤—ã
- `PUT /api/chapter/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤—ã
- `DELETE /api/chapter/:id` - —É–¥–∞–ª–µ–Ω–∏–µ –≥–ª–∞–≤—ã
- `POST /api/chapters/bulk` - –º–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤
- `GET /api/chapters` - —Å–ø–∏—Å–æ–∫ –≥–ª–∞–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `GET /api/document-info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
```bash
npm run test-api-simple
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ server.js          # MCP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ api.js             # HTTP API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ database.js        # –†–∞–±–æ—Ç–∞ —Å JSON –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ importer.js        # –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ data/                  # –ò—Å—Ö–æ–¥–Ω—ã–µ JSON —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ db/                    # JSON –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ test-api-simple.js     # –¢–µ—Å—Ç API
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON —Ñ–∞–π–ª—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã:

### –§–∞–π–ª `chapters.json`
- `id` - –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–π ID
- `chapter_id` - ID –≥–ª–∞–≤—ã (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≥–ª–∞–≤—ã
- `content` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤—ã (—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤)
- `page_start` - –Ω–æ–º–µ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `content_lines` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `images_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `tables_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –§–∞–π–ª `metadata.json`
- `key` - –∫–ª—é—á –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `value` - –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –§–∞–π–ª `search_index.json`
- `chapter_id` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –≥–ª–∞–≤—É
- `search_text` - —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞
- `keywords` - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ MCP
```javascript
// –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≥–ª–∞–≤—ã —á–µ—Ä–µ–∑ MCP
{
  "name": "add_documentation",
  "arguments": {
    "chapter_id": 1234,
    "title": "–ù–æ–≤–∞—è –≥–ª–∞–≤–∞",
    "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤—ã...",
    "page_start": 100,
    "content_lines": 50,
    "images_count": 2,
    "tables_count": 1
  }
}
```

### –ß–µ—Ä–µ–∑ HTTP API
```bash
curl -X POST http://localhost:3001/api/chapter \
  -H "Content-Type: application/json" \
  -d '{
    "chapter_id": 1234,
    "title": "–ù–æ–≤–∞—è –≥–ª–∞–≤–∞",
    "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤—ã...",
    "page_start": 100,
    "content_lines": 50,
    "images_count": 2,
    "tables_count": 1
  }'
```

### –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
```bash
curl -X POST http://localhost:3001/api/chapters/bulk \
  -H "Content-Type: application/json" \
  -d '{
    "chapters": [
      {
        "chapter_id": 1234,
        "title": "–ì–ª–∞–≤–∞ 1",
        "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ..."
      },
      {
        "chapter_id": 1235,
        "title": "–ì–ª–∞–≤–∞ 2",
        "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ..."
      }
    ]
  }'
```

## –ü–æ–∏—Å–∫

### –ß–µ—Ä–µ–∑ MCP
```javascript
{
  "name": "search_documentation",
  "arguments": {
    "query": "Mobile Smarts",
    "limit": 10
  }
}
```

### –ß–µ—Ä–µ–∑ HTTP API
```bash
curl "http://localhost:3001/api/search?query=Mobile%20Smarts&limit=10"
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run dev
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
npm test
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- `PORT` - –ø–æ—Ä—Ç –¥–ª—è HTTP API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3001)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Cleverence.
